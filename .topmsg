From: Per Cederqvist <ceder@lysator.liu.se>
Subject: Do basic error checking in "tg depend add".

Check for the following errors:

 - Working on a non-TopGit branch.
 - Adding a branch as a dependency of itself.
 - Adding a dependency that introduces a loop.
 - Adding a dependency that already exists.

Signed-off-by: Per Cederqvist <ceder@lysator.liu.se>
